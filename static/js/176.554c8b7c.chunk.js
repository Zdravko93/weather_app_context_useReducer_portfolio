"use strict";(self.webpackChunkweather_app_react=self.webpackChunkweather_app_react||[]).push([[176],{915:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Te});var a=i(43);const s="WeatherDetailsCard_weather-details-main-flex__lHEQv",r="WeatherDetailsCard_fade-in__pSkMU",n="WeatherDetailsCard_weather-details-wrapper__4Aw5G",c="WeatherDetailsCard_weather-details-header__Px3ZC",l="WeatherDetailsCard_weather-details-main__QikYY",d="WeatherDetailsCard_weather-details-boxes__h9oRo",o="WeatherDetailsCard_weather-details-box__9g+k4";var u=i(837),h=i(151),m=i(231),x=i(780),_=i(697),p=i(579);const f=function(e){let{className:t}=e;return(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:t,children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 9-3 3m0 0 3 3m-3-3h7.5M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0Z"})})};var A=i(310),v=i(669),j=i(128);function y(){const{state:e,dispatch:t}=(0,j.X)(),{fadeIn:i,isWeatherDetailsVisible:a}=e;return(0,p.jsxs)(A.A,{className:`${v.A["details-arrow-btn"]} ${i?v.A["fade-in"]:""} ${v.A["weather-details-card-btn"]}`,callback:()=>t({type:"TOGGLE_WEATHER_DETAILS",payload:!1}),"aria-label":"Hide weather details",ariaExpanded:a?"false":"true",children:[(0,p.jsx)(f,{className:`${v.A["details-arrow"]}  ${v.A["weather-details-arrow"]}`}),(0,p.jsx)("span",{className:v.A.tooltip,role:"tooltip",children:"Hide details"})]})}const b="ForecastCity_forecast-city__d1koX",g="ForecastCity_forecast-city-day-time__uUyJQ";const w=function(e){let{currentDay:t,currentDate:i,currentTime:a}=e;const{state:s}=(0,j.X)(),{forecastData:r}=s,{name:n}=r.city||(0,p.jsx)("p",{className:"no-data",children:' "No data available for searched city."'});return(0,p.jsxs)(x.A,{WRAPPER:"div",ariaText:`${n} weather forecast`,className:b,children:[(0,p.jsx)("h2",{children:n}),(0,p.jsxs)(x.A,{WRAPPER:"div",ariaText:`${n} current day, date and time`,className:g,children:[(0,p.jsxs)("h3",{children:[t,", ",i]}),(0,p.jsx)("p",{"aria-live":"polite",children:a})]})]})},P="FiveDaysForecast_weather-details-forecast__fQp1e",R="ForecastCard_day-details__xrO7U",W="ForecastCard_fade-in__7bM9-",N="ForecastCard_day-details-delay__iyl+n",D="ForecastCard_day-temperatures__ldhfz";var $=i(55);const C=function(e){let{index:t,daysOfWeek:i,weatherIconUrl:s,maxTemp:r,minTemp:n,unit:c,weatherMainDescription:l,fadeIn:d,delay:o}=e;const[u,h]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(d){const e=setTimeout((()=>{h(!0)}),o);return()=>clearTimeout(e)}}),[d,o]),(0,p.jsxs)(x.A,{className:`${R} ${u?W:""} ${u?N:""}`,style:{transitionDelay:`${o}ms`},children:[(0,p.jsx)("h5",{children:i[t]}),(0,p.jsx)($.A,{imgSrc:s,altText:`${l} weather icon for ${i[t]}`}),(0,p.jsxs)(x.A,{WRAPPER:"div",className:D,children:[(0,p.jsxs)("b",{children:[r,c]}),(0,p.jsxs)("small",{children:[n,c]})]})]})};var E=i(885);const S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];const k=function(e){var t,i;let{daysOfWeek:s}=e;const{state:r}=(0,j.X)(),{forecastData:n,weatherData:c,isCelsius:l}=r,d=(null===c||void 0===c||null===(t=c.weather)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.main)||"Weather data not available",{forecast:o}=((e,t)=>!e||!e.list||e.list.length<5?null:{forecast:e.list.slice(0,5).map(((i,a)=>{const s=new Date(1e3*i.dt),r=s.toLocaleString("en-US",{weekday:"short"}),n=t?"\xb0C":"\xb0F",c=`https://openweathermap.org/img/wn/${i.weather[0].icon}.png`,l=e.list.filter((e=>new Date(1e3*e.dt).getDate()===s.getDate())),d=Math.max(...l.map((e=>(0,E.mx)(e.main.temp_max,t)))),o=Math.min(...l.map((e=>(0,E.mx)(e.main.temp_min,t))));return{date:s,dayOfWeek:r,unit:n,weatherIconUrl:c,maxTemp:d,minTemp:o}}))})(n,l),[u,h]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{h(!0)}),100);return()=>clearTimeout(e)}),[]),(0,p.jsx)(x.A,{WRAPPER:"div",className:P,children:(0,p.jsx)("ul",{children:o.map(((e,t)=>(0,p.jsx)(C,{index:t,daysOfWeek:s,weatherIconUrl:e.weatherIconUrl,maxTemp:e.maxTemp,minTemp:e.minTemp,unit:e.unit,weatherMainDescription:d,fadeIn:u,delay:100*t},e.date.toString())))})})},T="UV_weather-details-uv-index__Xefeq",U={"uv-description":"UVDescription_uv-description__mtVjr","uv-low":"UVDescription_uv-low__uENfV","uv-moderate":"UVDescription_uv-moderate__usRoW","uv-high":"UVDescription_uv-high__1+jjt","uv-very-high":"UVDescription_uv-very-high__vxKoi","uv-extreme":"UVDescription_uv-extreme__6Xqpt","uv-dangerous":"UVDescription_uv-dangerous__kW2dQ"};const V=function(){const{state:e}=(0,j.X)(),{uvIndex:t}=e,{text:i,textColor:a}=(e=>{let t="",i="";return e>=11?(t="Extreme - Avoid outdoor activities!",i="uv-extreme"):e>=8?(t="Very High - Take precautions!",i="uv-very-high"):e>=6?(t="High - Protection needed!",i="uv-high"):e>=3?(t="Moderate - Stay safe!",i="uv-moderate"):(t="Low - Safe to go outside!",i="uv-low"),{text:t,textColor:i}})(t);return(0,p.jsx)("p",{id:"uv-description","aria-describedby":"uv-title",className:`${U["uv-description"]} ${U[a]}`,children:i})},H={meter:"UVChart_meter__4aDEf","circle-background":"UVChart_circle-background__K4sOM","circle-bar":"UVChart_circle-bar__dvk2B","center-text":"UVChart_center-text__IMagW","circle-bar-low":"UVChart_circle-bar-low__v0rJd","circle-bar-moderate":"UVChart_circle-bar-moderate__uLZVL","circle-bar-high":"UVChart_circle-bar-high__RYQs-","circle-bar-very-high":"UVChart_circle-bar-very-high__clhgq","circle-bar-extreme":"UVChart_circle-bar-extreme__AcdqU","circle-bar-rotate":"UVChart_circle-bar-rotate__NpcYc"};function X(){const{state:e}=(0,j.X)(),{uvIndex:t,error:i}=e,[s,r]=(0,a.useState)(0);let n;return(0,a.useEffect)((()=>{r(t/14*360)}),[t]),t<=2?n="circle-bar-low;":t<=5?n="circle-bar-moderate":t<=7?n="circle-bar-high":t<=10?n="circle-bar-very-high":t<=14&&(n="circle-bar-extreme"),(0,p.jsxs)(x.A,{WRAPPER:"div",className:H.meter,children:[(0,p.jsx)(x.A,{WRAPPER:"div",className:H["circle-background"]}),(0,p.jsx)(x.A,{WRAPPER:"div",className:`${H["circle-bar"]} ${H[n]} ${H["circle-bar-rotate"]}`,style:{"--rotation":`${s}deg`}}),(0,p.jsx)("p",{"aria-describedby":"uv-title",className:H["center-text"],children:i?(0,p.jsx)("span",{id:"uv-error","aria-describedby":"uv-title","aria-live":"assertive",children:"There was an error loading the UV data."}):(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("span",{id:"uv-index","aria-labelledby":"uv-index-label",children:t})})})]})}const I=function(){const{state:e}=(0,j.X)(),{isCitySearched:t}=e;return(0,p.jsxs)(x.A,{className:`${o} ${t?r:""}`,children:[(0,p.jsx)("h5",{id:"uv-title",children:"UV Index"}),(0,p.jsxs)(x.A,{WRAPPER:"div",className:T,children:[(0,p.jsx)(X,{}),(0,p.jsx)(V,{})]})]})},M="Wind_weather-details-wind__sV4Zs",L="Wind_orientation-unit-toggle-group__x44x4",F="WindSpeed_weather-number-unit-group__hDchq";var O=i(899);const B=function(e){let{isMetric:t}=e;const{state:i}=(0,j.X)(),{windData:a}=i,s=(0,O.Hh)(a.speed,t),r=t?"km/h":"m/s";return(0,p.jsx)(x.A,{WRAPPER:"div",className:F,children:(0,p.jsxs)("p",{"aria-describedby":"wind-title",children:[(0,p.jsx)("span",{id:"wind-speed","aria-describedby":"wind-title",children:s}),(0,p.jsx)("span",{id:"wind-unit","aria-describedby":"wind-title",children:`${r}`})]})})},Y="WindOrientation_wind-orientation__ZEKsp";const q=function(){const{state:e}=(0,j.X)(),{windData:t}=e;return(0,p.jsxs)(x.A,{WRAPPER:"div",className:Y,children:[(0,p.jsx)($.A,{imgSrc:(0,O.Ls)(t.direction),altText:"Wind direction"}),(0,p.jsx)("p",{id:"wind-direction","aria-describedby":"wind-title",children:t.direction})]})};var Q=i(265);const Z=function(){const{isCitySearched:e}=(0,j.X)(),[t,i]=(0,a.useState)(!0);return(0,p.jsxs)(x.A,{className:`${o} ${e?r:""}`,children:[(0,p.jsx)("h5",{id:"wind-title",children:"Wind Status"}),(0,p.jsxs)(x.A,{WRAPPER:"div",className:M,children:[(0,p.jsx)(B,{isMetric:t}),(0,p.jsxs)(x.A,{WRAPPER:"div",ariaRole:"group",ariaLabelledBy:"wind-status-group",className:L,children:[(0,p.jsx)(q,{}),(0,p.jsx)(Q.A,{children:(0,p.jsx)(x.A,{WRAPPER:"div",className:u.A["toggle-unit-group"],children:(0,p.jsxs)(A.A,{ariaText:`Toggle wind speed unit to ${t?"km/h":"m/s"}$`,className:`${u.A["toggle-unit-btn"]} ${u.A["toggle-unit-btn-wind-speed"]}`,callback:()=>{i((e=>!e))},children:[t?"m/s":"km/h",(0,p.jsx)("span",{className:u.A["wind-unit-tooltip"],role:"tooltip",children:"Switch"})]})})})]})]})]})},z=i.p+"static/media/sunset.45f615ea119e5a1af90b.png",G=i.p+"static/media/sunrise.2f522b1af5c815730b2b.png",J="SunriseSunset_weather-details-sunrise-sunset__zGkP0",K="TimeData_time-details__88+-H",ee="RenderTimeData_time-data__0DiDI";const te=function(e){let{time:t,timeSuffix:i}=e;return(0,p.jsxs)(x.A,{WRAPPER:"div",className:ee,children:[(0,p.jsx)("p",{"aria-describedby":"sunrise-sunset-title",children:t}),(0,p.jsx)("span",{"aria-describedby":"sunrise-sunset-title",children:i})]})};const ie=function(e){let{time:t,timeSuffix:i,imgSrc:a,imgAltText:s}=e;return(0,p.jsxs)(x.A,{WRAPPER:"div",className:K,children:[(0,p.jsx)($.A,{imgSrc:a,altText:s}),(0,p.jsx)(te,{time:t,timeSuffix:i})]})};const ae=function(){const{state:e}=(0,j.X)(),{sunrise:t,sunset:i,isCitySearched:a}=e;return(0,p.jsxs)(x.A,{className:`${o} ${a?r:""}`,children:[(0,p.jsx)("h5",{id:"sunrise-sunset-title",children:"Sunrise & Sunset"}),(0,p.jsxs)(x.A,{WRAPPER:"div",className:J,children:[(0,p.jsx)(ie,{time:t,timeSuffix:"AM",imgSrc:G,imgAltText:"An illustration of the sunrise"}),(0,p.jsx)(ie,{time:i,timeSuffix:"PM",imgSrc:z,imgAltText:"An illustration of the sunset"})]})]})},se="Humidity_humidity__Ajqxc",re="Humidity_humidity-percentage__PQZf4",ne="HumidityDescription_humidity-description__lZahi",ce="HumidityDescription_humidity-text__-plIE",le=i.p+"static/media/humidity-normal.842ea078ff99d274cc76.png",de=i.p+"static/media/humidity-average.229716bdff780fee6134.png",oe=i.p+"static/media/humidity-high.2cdd83f4bb96ece3bc1b.png";const ue=function(){const{state:e}=(0,j.X)(),{humidity:t}=e,{mark:i,description:a}=(e=>{let t="";return e<=25?(t="Normal",{mark:le,description:t}):e<=56?(t="Average",{mark:de,description:t}):(t="High",{mark:oe,description:t})})(t);return(0,p.jsxs)(x.A,{WRAPPER:"div",className:ne,children:[(0,p.jsx)("p",{"aria-describedby":"humidity-description",className:ce,children:a}),(0,p.jsx)($.A,{imgSrc:i,altText:`Humidity mark - ${a}`})]})};const he=function(){const{state:e}=(0,j.X)(),{humidity:t,isCitySearched:i}=e;return(0,p.jsxs)(x.A,{className:`${o} ${i?r:""}`,children:[(0,p.jsx)("h5",{id:"humidity-title",children:"Humidity"}),(0,p.jsxs)(x.A,{WRAPPER:"div",className:se,children:[(0,p.jsxs)("p",{"aria-labelledby":"humidity-title",className:re,children:[t,"%"]}),(0,p.jsx)(ue,{})]})]})},me="Visibility_visibility__INFB1",xe="VisibilityDescription_visibility-description__VmnbT",_e=i.p+"static/media/visibility-poor.632416f6e6ae0877a2e9.png",pe=i.p+"static/media/visibility-average.8ff2308cf05852e1409e.png",fe=i.p+"static/media/visibility-excellent.712f789450b93fa9ac8b.png",Ae=e=>(e/1e3).toFixed(1);const ve=function(){const{state:e}=(0,j.X)(),{forecastData:t}=e;if(!t||!t.list)return null;const i=t.list[0].visibility,a=Ae(i),{mark:s,description:r}=(e=>{let t="",i="";return e<=2.5?(t="Poor",i=_e):e<=5.5?(t="Average",i=pe):(t="Excellent",i=fe),{mark:i,description:t}})(a);return(0,p.jsxs)(x.A,{WRAPPER:"div",className:xe,children:[(0,p.jsx)("p",{id:"visibility-description",children:r}),(0,p.jsx)($.A,{imgSrc:s,altText:`Visibility mark indicating: ${r}`,ariaDescribedBy:"visibility-description"})]})},je="RenderVisibilityData_visibility-distance__7JAdI";const ye=function(){const{state:e}=(0,j.X)(),{forecastData:t}=e;if(!t||!t.list)return null;const i=t.list[0].visibility,a=Ae(i);return(0,p.jsx)(x.A,{WRAPPER:"div",children:(0,p.jsxs)("p",{"aria-labelledby":"visibility-title",className:je,children:[a,(0,p.jsx)("span",{children:"km"})]})})};const be=function(){const{state:e}=(0,j.X)(),{isCitySearched:t}=e;return(0,p.jsx)(x.A,{WRAPPER:"div",className:`${o} ${t?r:""}`,children:(0,p.jsxs)(x.A,{WRAPPER:"div",className:me,children:[(0,p.jsx)("h5",{id:"visibility-title",children:"Visibility"}),(0,p.jsx)(ye,{}),(0,p.jsx)(ve,{})]})})},ge="Pollutants_pollutants__ky9+A",we="Pollutant_pollutant-value__qUkHb";const Pe=function(e){let{pollutant:t,value:i}=e;return(0,p.jsxs)(x.A,{children:[(0,p.jsx)("strong",{"aria-label":`Pollutant: ${t.toUpperCase}`,children:t.toUpperCase()}),": ",(0,p.jsxs)("span",{className:we,children:[i," \xb5g/m\xb3"]})]})};const Re=function(){var e;const{state:t}=(0,j.X)(),{airQualityData:i,isCitySearched:a}=t,s=null===i||void 0===i||null===(e=i.list[0])||void 0===e?void 0:e.components;return s?(0,p.jsxs)(x.A,{WRAPPER:"div",className:`${o} ${a?r:""}`,children:[(0,p.jsx)("h5",{id:"pollutants-title",children:"Pollutants"}),(0,p.jsx)(x.A,{WRAPPER:"ul",className:ge,children:Object.entries(s).map((e=>{let[t,i]=e;return(0,p.jsx)(Pe,{pollutant:t,value:i},t)}))})]}):(0,p.jsx)("p",{className:"no-data",role:"status",children:"No air quality data available for this location."})};var We=i(117),Ne=i(872);const De=function(e){let{celsiusBtnClass:t,fahrenheitBtnClass:i,toggleUnitsWrapperClass:a}=e;const s=`${We.A["search-wrapper"]} ${We.A["weather-details-search-wrapper"]}`;return(0,p.jsxs)(x.A,{WRAPPER:"header",className:c,children:[(0,p.jsx)("h1",{id:"forecast-title",children:"5-day forecast"}),(0,p.jsx)(x.A,{WRAPPER:"div",children:(0,p.jsx)(Ne.A,{searchInputClassName:s,ariaText:"Search city",isDetailsHeaderSuggestions:!0})}),(0,p.jsx)(Q.A,{celsiusBtnClass:`${u.A["weather-details-toggle-celsius-btn"]} ${t}`,fahrenheitBtnClass:`${u.A["weather-details-toggle-fahrenheit-btn"]} ${i}`,toggleUnitsWrapperClass:a})]})};var $e=i(406),Ce=i(348),Ee=i.n(Ce);const Se={"-10800":"Europe/Moscow","-7200":"Europe/Paris","-14400":"America/New_York","-25200":"America/Los_Angeles","-18000":"America/Chicago",0:"Europe/London",3600:"Europe/Paris",10800:"Europe/Moscow",14400:"Asia/Dubai",32400:"Asia/Tokyo",39600:"Australia/Sydney",28800:"Asia/Shanghai"},ke=e=>{const[t,i]=(0,a.useState)(""),[s,r]=(0,a.useState)(""),[n,c]=(0,a.useState)("");return(0,a.useEffect)((()=>{const t=()=>{if(e&&e.city&&e.list[0]){const t=e.city.timezone||0,a=Se[t]||"No data found",s=Ee()().tz(a),n=s.format("HH"),l=s.format("mm"),d=s.format("ss");i(`${n}:${l}:${d}`);const o=s.format("dddd");r(o);const u=s.format("DD.MM.YYYY");c(u)}};t();const a=setInterval(t,1e3);return()=>clearInterval(a)}),[e]),{currentTime:t,currentDayOfWeek:s,currentDate:n}};const Te=function(){const{state:e}=(0,j.X)(),{forecastData:t,isCelsius:i,error:c,isLoading:o,isWeatherDetailsVisible:f}=e,{currentTime:A,currentDayOfWeek:v,currentDate:b}=ke(t),g=(e=>{const t=S.indexOf(e);return S.slice(t+1).concat(S.slice(0,t))})(v),[P,R]=(0,a.useState)(!1),W=i?u.A["weather-details-unit-accent"]:"",N=i?"":u.A["weather-details-unit-accent"];return(0,a.useEffect)((()=>{const e=setTimeout((()=>{R(!0)}),100);return()=>clearTimeout(e)}),[]),(0,p.jsxs)(x.A,{WRAPPER:"div",className:`${s} ${P?r:""}`,children:[(0,p.jsx)(y,{}),(0,p.jsxs)(x.A,{WRAPPER:"div",className:n,children:[(0,p.jsx)($e.A,{className:m.A["weather-details"]}),(0,p.jsx)(De,{celsiusBtnClass:`${u.A["weather-details-toggle-celsius-btn"]} ${W}`,fahrenheitBtnClass:`${u.A["weather-details-toggle-fahrenheit-btn"]} ${N}`,toggleUnitsWrapperClass:u.A["toggle-units-wrapper"]}),o&&f?(0,p.jsx)(_.A,{className:h.A["weather-details-loading-text"],children:"Loading forecast data..."}):c&&(0,p.jsx)("p",{className:"no-data-fetch",children:c}),(0,p.jsx)(w,{currentTime:A,currentDay:v,currentDate:b}),(0,p.jsx)(k,{daysOfWeek:g}),(0,p.jsxs)(x.A,{WRAPPER:"div",className:l,children:[(0,p.jsx)("h4",{children:"Today's Highlights"}),(0,p.jsxs)("ul",{className:d,children:[(0,p.jsx)(I,{}),(0,p.jsx)(Z,{}),(0,p.jsx)(ae,{}),(0,p.jsx)(he,{}),(0,p.jsx)(be,{}),(0,p.jsx)(Re,{})]})]})]})]})}}}]);
//# sourceMappingURL=176.554c8b7c.chunk.js.map